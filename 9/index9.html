<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Graph Network avec D3.js v6</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <script src="https://d3js.org/d3.v6.min.js"></script>
  <link rel="stylesheet" href="style.css" />
  <script src="js/script.js"></script>
</head>
<body>
  <svg width="800" height="600">
    <defs>
      <marker id="arrowhead" markerWidth="10" markerHeight="7" 
      refX="3" refY="1.75" orient="auto">
          <polygon points="0 0, 5 1.75, 0 3" />
      </marker>
  </defs>
  </svg>
  <!-- Volet -->
  <div class="container-fluid">
    <div id="bottom-panel" class="card">
      <div class="card-header" id="bottom-panel-header">
        <div class="header-toggle">
          <ul class="nav nav-tabs card-header-tabs">
            <!-- Ajout d'onglet vide pour éviter la sélection de texte lors d'un double clic pour créer des noeuds sur le graph - enlevé au profit de "user-select" par CSS -->
            <!-- <li class="nav-item"><a class="nav-link" href="#tabempty" data-toggle="tab"></a></li> -->
            <li class="nav-item"><a class="nav-link" href="#tab_help" data-toggle="tab">?</a></li>
            <li class="nav-item"><a class="nav-link active" href="#tab1" data-toggle="tab">Actions</a></li>
            <li class="nav-item"><a class="nav-link" href="#tab2" data-toggle="tab">Valeurs</a></li>
            <li class="nav-item"><a class="nav-link" href="#tab3" data-toggle="tab">Config graph</a></li>
            <li class="nav-item"><a class="nav-link" href="#tab4" data-toggle="tab">AI Request</a></li>
          </ul>
          <span class="arrow arrow-down"></span>
        </div>
      </div>
      <div class="card-body">
        <div class="tab-content">
          <div class="tab-pane fade" id="tab_help">
            <p>
              <table class="table-container">
                <tr>
                  <th>Actions</th>
                  <th>Instructions</th>
                </tr>
                <tr>
                  <td><b>Create a node</b></td>
                  <td><b>Double click</b> in the void</td>
                </tr>
                <tr>
                  <td><b>Create a edge</b></td>
                  <td><b>Click on a node</b> then <b>CTRL + Click on the target</b> node</td>
                </tr>
                <tr>
                  <td><b>Create a node with edge</b></td>
                  <td><b>Click on a node</b> then <b>CTRL + Click on empty space</b> (Add Shift for focus select on the new node)</td>
                </tr>
                <tr>
                  <td><b>Delete</b> (node/edge)</td>
                  <td><b>Select a node/edge</b> and press <b>Delete</b> or <b>Backspace</b></td>
                </tr>
                <tr>
                  <td><b>Unselect</b> (node/edge)</td>
                  <td>Press <b>Echap</b></td>
                </tr>
                <tr>
                  <td><b>Change name</b> (node/edge)</td>
                  <td></td>
                </tr>
                <tr>
                  <td><b>Zoom</b></td>
                  <td>Mouse <b>wheel scroll</b></td>
                </tr>
                <tr>
                  <td><b>Move node</b></td>
                  <td><b>Left click + drag</b></td>
                </tr>
                <tr>
                  <td><b>Move graph</b></td>
                  <td><b>Right click + drag</b></td>
                </tr>
              </table>
            </p>
          </div>
          <div class="tab-pane fade show active" id="tab1">
            <p>
              <button id="export-json">Exporter JSON</button>
              <button id="import-json">Importer JSON</button>
              <input type="file" id="json-file" accept=".json" class="hidden">
              <button id="update">debug</button>
            </p>
          </div>
          <div class="tab-pane fade" id="tab2">
            <p>
              <p>
                <button id="addNodeFieldButton">Add Node Field</button>
                <input type="text" id="addNodeFieldInput" placeholder="New node name">
                <br>
                <button id="addLinkFieldButton">Add Link Field</button>
                <input type="text" id="addLinkFieldInput" placeholder="New link name">                
              </p>
              <form id="node-form" class="hidden"></form>
              <form id="link-form" class="hidden"></form>
            </p>
          </div>
          <div class="tab-pane fade" id="tab3">
            <p>
              
            </p>
          </div>
          <div class="tab-pane fade" id="tab4">
            <p>
              A venir
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
<!-- Semble fortmeent compatible v7 -->
<script src="https://d3js.org/d3.v6.min.js"></script>
<!-- Important, insérer le script après le body pour que ça marche -->
<script src="js/graph.js"></script>
</html>
